<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Routing - Y0 Hardware</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .debug-info {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .error { background: #ffe6e6; border-left: 4px solid #ff4444; }
        .success { background: #e6ffe6; border-left: 4px solid #44ff44; }
        .info { background: #e6f3ff; border-left: 4px solid #4444ff; }
        code { background: #f0f0f0; padding: 2px 5px; border-radius: 3px; }
        .test-links { margin: 20px 0; }
        .test-links a { 
            display: block; 
            margin: 10px 0; 
            padding: 10px; 
            background: #007bff; 
            color: white; 
            text-decoration: none; 
            border-radius: 5px; 
        }
        .test-links a:hover { background: #0056b3; }
    </style>
</head>
<body>
    <h1>🔍 تشخيص مشكلة التوجيه - Y0 Hardware</h1>
    
    <div class="debug-info info">
        <h3>📍 معلومات الموقع الحالي</h3>
        <p><strong>URL الكامل:</strong> <code id="full-url"></code></p>
        <p><strong>Hostname:</strong> <code id="hostname"></code></p>
        <p><strong>Pathname:</strong> <code id="pathname"></code></p>
        <p><strong>Hash:</strong> <code id="hash"></code></p>
        <p><strong>هل هو GitHub Pages؟</strong> <code id="is-github-pages"></code></p>
    </div>

    <div class="debug-info" id="routing-status">
        <h3>🔗 حالة التوجيه</h3>
        <p id="routing-message"></p>
    </div>

    <div class="debug-info">
        <h3>✅ الروابط الصحيحة</h3>
        <div class="test-links">
            <a href="https://y0ussefmahmoud.github.io/Y0-Hardware-V2.0.0/">🏠 الصفحة الرئيسية (الرابط الصحيح)</a>
            <a href="https://y0ussefmahmoud.github.io/Y0-Hardware-V2.0.0/#/">🏠 الصفحة الرئيسية مع Hash</a>
            <a href="https://y0ussefmahmoud.github.io/Y0-Hardware-V2.0.0/#/shop">🛍️ المتجر</a>
            <a href="https://y0ussefmahmoud.github.io/Y0-Hardware-V2.0.0/#/cart">🛒 السلة</a>
            <a href="https://y0ussefmahmoud.github.io/Y0-Hardware-V2.0.0/#/about">ℹ️ من نحن</a>
        </div>
    </div>

    <div class="debug-info error">
        <h3>❌ الروابط الخاطئة (لا تستخدمها)</h3>
        <div class="test-links">
            <a href="https://y0ussefmahmoud.github.io/" style="background: #dc3545;">❌ الجذر فقط (خطأ)</a>
            <a href="https://y0ussefmahmoud.github.io/cart" style="background: #dc3545;">❌ بدون مسار المستودع (خطأ)</a>
            <a href="https://y0ussefmahmoud.github.io/shop" style="background: #dc3545;">❌ بدون hash (خطأ)</a>
        </div>
    </div>

    <div class="debug-info">
        <h3>🛠️ اختبار دوال التوجيه</h3>
        <p><strong>createLink('/'):</strong> <code id="test-home-link"></code></p>
        <p><strong>createLink('/shop'):</strong> <code id="test-shop-link"></code></p>
        <p><strong>createLink('/cart'):</strong> <code id="test-cart-link"></code></p>
    </div>

    <script>
        // تحديث معلومات الموقع
        document.getElementById('full-url').textContent = window.location.href;
        document.getElementById('hostname').textContent = window.location.hostname;
        document.getElementById('pathname').textContent = window.location.pathname;
        document.getElementById('hash').textContent = window.location.hash || '(فارغ)';
        
        // فحص GitHub Pages
        const isGitHubPages = window.location.hostname === 'y0ussefmahmoud.github.io';
        document.getElementById('is-github-pages').textContent = isGitHubPages ? 'نعم ✅' : 'لا ❌';
        
        // دالة createLink للاختبار
        function createLink(path) {
            if (isGitHubPages) {
                return `/Y0-Hardware-V2.0.0/#${path}`;
            }
            return `#${path}`;
        }
        
        // اختبار الدوال
        document.getElementById('test-home-link').textContent = createLink('/');
        document.getElementById('test-shop-link').textContent = createLink('/shop');
        document.getElementById('test-cart-link').textContent = createLink('/cart');
        
        // فحص حالة التوجيه
        const routingStatus = document.getElementById('routing-status');
        const routingMessage = document.getElementById('routing-message');
        
        if (window.location.pathname === '/Y0-Hardware-V2.0.0/' || 
            window.location.pathname === '/Y0-Hardware-V2.0.0/index.html') {
            routingStatus.className = 'debug-info success';
            routingMessage.innerHTML = '✅ أنت في المكان الصحيح! هذا هو رابط المشروع الصحيح.';
        } else if (window.location.pathname === '/') {
            routingStatus.className = 'debug-info error';
            routingMessage.innerHTML = '❌ أنت في الجذر. يجب أن تكون في <code>/Y0-Hardware-V2.0.0/</code>';
        } else {
            routingStatus.className = 'debug-info info';
            routingMessage.innerHTML = '⚠️ مسار غير متوقع. تحقق من الرابط.';
        }
        
        // إضافة معلومات إضافية
        setTimeout(() => {
            const additionalInfo = document.createElement('div');
            additionalInfo.className = 'debug-info info';
            additionalInfo.innerHTML = `
                <h3>📊 معلومات إضافية</h3>
                <p><strong>User Agent:</strong> ${navigator.userAgent}</p>
                <p><strong>الوقت:</strong> ${new Date().toLocaleString('ar-EG')}</p>
                <p><strong>المنطقة الزمنية:</strong> ${Intl.DateTimeFormat().resolvedOptions().timeZone}</p>
            `;
            document.body.appendChild(additionalInfo);
        }, 1000);
    </script>
</body>
</html>
